<section id="agregar-proceso">
    <h1>Nuevo</h1>
    <form id="nuevo-proceso-form" action="/crear_proceso" method="post">
        <div class="row">
            <div class="col-md-2">
                <label for="inputId">ID:</label>
                <input type="number" id="inputId" name="id" value="{{ siguiente_id }}" min="{{ siguiente_id }}" max="10"
                    required readonly class="form-control">
            </div>
            <div class="col-md-8">
                <label for="inputNombre">Nombre:</label>
                <input type="text" id="inputNombre" name="nombre" required class="form-control">
            </div>
            <div class="col-md-2">
                <label for="inputTamano">Tamaño:</label>
                <input type="number" id="inputTamano" name="tamano" min="1" max="{{ max_tamano }}" class="form-control" required data-bs-toggle="tooltip" data-bs-placement="top" title="El tamaño máximo permitido es {{ max_tamano }}.">
            </div>
        </div>
        <label for="inputPrioridad">Prioridad:</label>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="sinPr" name="prioridad" value="1">
            <label class="form-check-label" for="sinPr">sin preeminencia</label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="sinPr" name="prioridad" value="2">
            <label class="form-check-label" for="sinPr">con preeminencia</label>
        </div>
        <label for="inputRecurso">Recursos</label>
        {% for recurso in recursos %}
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="recurso{{ loop.index }}" name="recursos"
                value="{{ recurso.get_id_recurso() }}">
            <label class="form-check-label" for="recurso{{ loop.index }}">
                {{ recurso.get_nombre_recurso() }}
                {% if recurso.get_proceso() %}
                <span class="text-danger">(En uso: {{ recurso.get_proceso().get_nombre_proceso() }})</span>
                {% else %}
                <span class="text-success">(Disponible)</span>
                {% endif %}
            </label>
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Crear</button>
    </form>
</section>

<script>
    // Iniciar tooltips de Bootstrap
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })
</script>